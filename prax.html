<!-- <!DOCTYPE html> -->
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>

</head>
<!-- ----------------------------------------------- -->


<body>
	<h1>Hello</h1>
	<div>
		<button onclick="handlers.displayTodos()">Display Todos</button>
		<button onclick="handlers.toggleAll()">Toggle All</button>
	</div>
	<div>
		<button onclick="handlers.addTodo()">Add</button>
		<input id="addTodoTextInput" type="text">
	</div>

	<div>
		<button onclick="handlers.changeTodo()"> Change Todo</button>
		<input id="changeTodoPositionInput" type="number">
		<input id="changeTodoTextInput" type="text">

	</div>
	<div>
		<button onclick="handlers.deleteToDo()">Delete</button>
		<input id="deleteTodoPositionInput" type="number">
	</div>
	<div>
		<button onclick="handlers.toggleCompleted()">Toggle completed</button>
		<input id="toggleCompletedPositionInput" type="number">
	</div>

	<div><ul></ul></div>
	<!----------------------------------------  -->

	<script>
		// var displayTodosButton = document.getElementById('displayTodosButton');

		// var toggleAllbutton = document.getElementById('toggleAllbutton');






		var handlers = {
			displayTodos: function () {
				todolist.displayTodos();
			},

			toggleAll: function () {
				todolist.toggleAll();
			},

			addTodo: function () {
				var addTodoTextInput = document.getElementById('addTodoTextInput');
				todolist.addTodo(addTodoTextInput.value);
				addTodoTextInput.value = '';
			},

			changeTodo: function () {
				var changeTodoPositionInput = document.getElementById('changeTodoPositionInput');
				var changeTodoTe0xtInput = document.getElementById('changeTodoTextInput');
				todolist.changeTodo(changeTodoPositionInput.valueAsNumber, changeTodoTextInput.value);
				changeTodoPositionInput.value = '';
				changeTodoTextInput.value = '';
			},

			deleteToDo: function () {
				var deleteTodoPositionInput = document.getElementById('deleteTodoPositionInput');
				todolist.deleteTodo(deleteTodoPositionInput.valueAsNumber);
				deleteTodoPositionInput.value = '';
			},

			toggleCompleted: function () {
				var toggleCompletedPositionInput = document.getElementById('toggleCompletedPositionInput');
				todolist.toggleCompleted(toggleCompletedPositionInput.valueAsNumber);
				toggleCompletedPositionInput.value = '';
			}
		};

		var view = {
			displayTodos: function(){
				var todosUl = document.querySelector('ul');
					todosUl.innerHTML = '';

				 for (let index = 0; index < todolist.todos.length; index++){
				var todoLi = document.createElement('li');
				todoLi.textContent = todolist.todos[index].todoText;
				todosUl.appendChild(todoLi);}
				 }
		};
		// toggleAllbutton.addEventListener('click', function () {
		// 	todolist.toggleAll();
		// });

		// displayTodosButton.addEventListener('click', function () {
		// 	todolist.displayTodos();
		// });

                    var todolist = {

			todos: [],

			displayTodos: function () {
				if (this.todos.length === 0) {
					console.log('Your Todo list is Empty');
				} else {
					console.log('My Todos:');
					for (let i = 0; i < this.todos.length; i++) {
						// console.log(this.todos[i].todoText);
						if (this.todos[i].completed === true) {
							console.log('(x)', this.todos[i].todoText);
						} else {
							console.log('( )', this.todos[i].todoText);
						}

					}
				}
			},
			addTodo: function (todoText) {
				this.todos.push({
					todoText: todoText,
					completed: false
				});
				this.displayTodos();
			},


			changeTodo: function (position, todoText) {
				this.todos[position].todoText = todoText;
				this.displayTodos();
			},

			deleteTodo: function (position) {
				this.todos.splice(position, 1);
				this.displayTodos();
			},

			toggleCompleted: function (position) {
				var todo = this.todos[position];
				todo.completed = !todo.completed;
				this.displayTodos();
			},

			toggleAll: function () {
				var totalTodos = this.todos.length;
				var completedTodos = 0;
				for (let i = 0; i < totalTodos; i++) {
					if (this.todos[i].completed === true) {
						completedTodos++;
					}
					if (completedTodos === totalTodos) {
						for (let i = 0; i < totalTodos; i++) {
							this.todos[i].completed = false;
						}
					} else {
						for (let i = 0; i < totalTodos; i++) {

							this.todos[i].completed = true;
						}
					}

				}
			}
		};
	</script>
</body>

</html>